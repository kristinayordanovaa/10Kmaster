<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - 10K to Mastery</title>
    <meta name="description" content="Your personal skill tracking dashboard">
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-content">
                <div class="logo">
                    <a href="index.html" style="text-decoration: none; color: inherit; display: flex; align-items: center;">
                        <img src="img/10kmasterlogo.png" alt="10K to Mastery" class="logo-image">
                    </a>
                </div>
                <div class="nav-links">
                    <a href="index.html#features">Features</a>
                    <a href="index.html#how-it-works">How It Works</a>
                    <a href="demo.html">Try Demo</a>
                    <a href="reviews.html">User Reviews</a>
                    <a href="index.html#pricing">Pricing</a>
                </div>
                <div class="nav-cta">
                    <button class="btn btn-primary" id="nav-auth-button" onclick="handleNavAuth()">Logout</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Dashboard Banner -->
    <section class="demo-banner">
        <div class="container">
            <h1>Your Mastery Dashboard</h1>
            <p id="demo-welcome">Track your progress towards 10,000 hours of mastery!</p>
        </div>
    </section>

    <!-- Dashboard Content -->
    <section class="demo-section">
        <div class="container">
            <div class="demo-container">
                <!-- Sidebar -->
                <aside class="demo-sidebar">
                    <div class="demo-user">
                        <div class="demo-avatar">
                            <img src="img/user avatars/Avatar1.png" alt="Avatar" class="demo-avatar-img">
                        </div>
                        <div class="demo-user-info">
                            <div class="demo-username">User</div>
                            <div class="demo-user-meta" id="user-plan">Free Plan</div>
                        </div>
                    </div>
                    <nav class="demo-nav">
                        <a href="#" class="demo-nav-item active" data-section="dashboard">
                            <span>üìä</span> Dashboard
                        </a>
                        <a href="#" class="demo-nav-item" data-section="time-history">
                            <span>‚è±Ô∏è</span> Time History
                        </a>
                        <a href="#" class="demo-nav-item" data-section="analytics">
                            <span>üìà</span> Analytics
                        </a>
                        <a href="#" class="demo-nav-item" data-section="achievements">
                            <span>üèÜ</span> Achievements
                        </a>
                        <a href="#" class="demo-nav-item" data-section="settings">
                            <span>‚öôÔ∏è</span> Settings
                        </a>
                    </nav>
                </aside>

                <!-- Main Content -->
                <main class="demo-main">
                    <!-- Dashboard Section -->
                    <div id="dashboard-section" class="demo-section-content active">
                        <!-- Stats Overview -->
                        <div class="demo-stats">
                            <div class="demo-stat-card">
                                <div class="demo-stat-icon">‚è±Ô∏è</div>
                                <div class="demo-stat-info">
                                    <div class="demo-stat-value" id="totalHours">0</div>
                                    <div class="demo-stat-label">Total Hours</div>
                                </div>
                            </div>
                            <div class="demo-stat-card">
                                <div class="demo-stat-icon">üéØ</div>
                                <div class="demo-stat-info">
                                    <div class="demo-stat-value" id="skillCount">0</div>
                                    <div class="demo-stat-label">Active Skills</div>
                                </div>
                            </div>
                            <div class="demo-stat-card">
                                <div class="demo-stat-icon">üî•</div>
                                <div class="demo-stat-info">
                                    <div class="demo-stat-value" id="dayStreak">0</div>
                                    <div class="demo-stat-label">Day Streak</div>
                                </div>
                            </div>
                            <div class="demo-stat-card">
                                <div class="demo-stat-icon">üìÖ</div>
                                <div class="demo-stat-info">
                                    <div class="demo-stat-value" id="hoursThisWeek">0</div>
                                    <div class="demo-stat-label">Hrs This Week</div>
                                </div>
                            </div>
                        </div>

                        <!-- Skills Header -->
                        <div class="demo-header">
                            <h2>Your Skills</h2>
                            <button class="btn btn-primary" id="addSkillBtn">
                                <span>+</span> Add New Skill
                            </button>
                        </div>

                        <!-- Skills Grid -->
                        <div class="demo-skills-grid" id="skillsGrid">
                            <!-- Skills will be dynamically inserted here -->
                        </div>
                    </div>

                    <!-- Time History Section -->
                    <div id="time-history-section" class="demo-section-content">
                        <div class="demo-header">
                            <h2>Time History</h2>
                            <select id="historyTimeframe" class="form-input analytics-dropdown">
                                <option value="7" selected>Past Week</option>
                                <option value="30">Past Month</option>
                                <option value="90">Past 3 Months</option>
                                <option value="365">Past Year</option>
                                <option value="all">All Time</option>
                            </select>
                        </div>

                        <div class="time-history-container">
                            <div class="time-history-header">
                                <div class="time-history-col-date">Date</div>
                                <div class="time-history-col-skill">Skill</div>
                                <div class="time-history-col-time">Time Recorded</div>
                                <div class="time-history-col-actions">Actions</div>
                            </div>
                            <div class="time-history-list" id="timeHistoryList">
                                <!-- Time entries will be generated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <!-- Analytics Section -->
                    <div id="analytics-section" class="demo-section-content">
                        <div class="demo-header">
                            <h2>Analytics</h2>
                            <select id="heatmapTimeframe" class="form-input analytics-dropdown">
                                <option value="1">Past Week</option>
                                <option value="4">Past 4 Weeks</option>
                                <option value="12" selected>Past 3 Months</option>
                                <option value="26">Past 6 Months</option>
                                <option value="52">Past Year</option>
                            </select>
                        </div>

                        <!-- Practice Heatmap -->
                        <div class="analytics-card">
                            <h3 class="analytics-card-title">Practice Activity</h3>
                            <p class="analytics-card-subtitle" id="heatmapSubtitle">Your practice intensity over the last 12 weeks</p>
                            
                            <div class="heatmap-container">
                                <div class="heatmap-months" id="heatmapMonths"></div>
                                <div class="heatmap-wrapper">
                                    <div class="heatmap-weekdays">
                                        <div class="heatmap-weekday">Mon</div>
                                        <div class="heatmap-weekday">Wed</div>
                                        <div class="heatmap-weekday">Fri</div>
                                    </div>
                                    <div class="heatmap-grid" id="heatmapGrid">
                                        <!-- Heatmap cells will be generated by JavaScript -->
                                    </div>
                                </div>
                                <div class="heatmap-legend">
                                    <span>Less</span>
                                    <div class="heatmap-legend-item" data-level="0"></div>
                                    <div class="heatmap-legend-item" data-level="1"></div>
                                    <div class="heatmap-legend-item" data-level="2"></div>
                                    <div class="heatmap-legend-item" data-level="3"></div>
                                    <div class="heatmap-legend-item" data-level="4"></div>
                                    <span>More</span>
                                </div>
                            </div>
                        </div>

                        <!-- Skills Breakdown -->
                        <div class="analytics-card">
                            <h3 class="analytics-card-title">Practice Breakdown by Skill</h3>
                            <p class="analytics-card-subtitle" id="breakdownSubtitle">Hours practiced per skill in the selected timeframe</p>
                            
                            <div class="skills-breakdown" id="skillsBreakdown">
                                <!-- Skill bars will be generated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <!-- Achievements Section -->
                    <div id="achievements-section" class="demo-section-content">
                        <div class="demo-header">
                            <h2>Achievements</h2>
                        </div>
                        <p class="section-subtitle">Track your progress and unlock achievements as you master your skills</p>
                        
                        <div class="achievements-stats">
                            <div class="achievement-stat-card">
                                <div class="achievement-stat-value" id="achievementsEarned">0</div>
                                <div class="achievement-stat-label">Earned</div>
                            </div>
                            <div class="achievement-stat-card">
                                <div class="achievement-stat-value" id="achievementsTotal">0</div>
                                <div class="achievement-stat-label">Total</div>
                            </div>
                            <div class="achievement-stat-card">
                                <div class="achievement-stat-value" id="achievementsProgress">0%</div>
                                <div class="achievement-stat-label">Progress</div>
                            </div>
                        </div>

                        <!-- Milestone Achievements -->
                        <div class="achievement-category">
                            <h3 class="achievement-category-title">üéØ Milestones</h3>
                            <div class="achievements-grid" id="milestonesGrid">
                                <!-- Generated by JavaScript -->
                            </div>
                        </div>

                        <!-- Consistency Achievements -->
                        <div class="achievement-category">
                            <h3 class="achievement-category-title">üî• Consistency</h3>
                            <div class="achievements-grid" id="consistencyGrid">
                                <!-- Generated by JavaScript -->
                            </div>
                        </div>

                        <!-- Diversity Achievements -->
                        <div class="achievement-category">
                            <h3 class="achievement-category-title">üåü Skill Diversity</h3>
                            <div class="achievements-grid" id="diversityGrid">
                                <!-- Generated by JavaScript -->
                            </div>
                        </div>

                        <!-- Speed & Intensity Achievements -->
                        <div class="achievement-category">
                            <h3 class="achievement-category-title">‚ö° Speed & Intensity</h3>
                            <div class="achievements-grid" id="speedGrid">
                                <!-- Generated by JavaScript -->
                            </div>
                        </div>

                        <!-- Special Achievements -->
                        <div class="achievement-category">
                            <h3 class="achievement-category-title">‚ú® Special</h3>
                            <div class="achievements-grid" id="specialGrid">
                                <!-- Generated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <!-- Settings Section -->
                    <div id="settings-section" class="demo-section-content">
                        <div class="demo-header">
                            <h2>Settings</h2>
                        </div>
                        
                        <!-- Avatar Selection -->
                        <div class="settings-card">
                            <h3 class="settings-card-title">Profile Avatar</h3>
                            <p class="settings-card-subtitle">Choose your profile picture</p>
                            
                            <div class="avatar-grid" id="avatarGrid">
                                <!-- Avatar options will be generated by JavaScript -->
                            </div>
                        </div>

                        <!-- Subscription Plan -->
                        <div class="settings-card">
                            <h3 class="settings-card-title">Subscription Plan</h3>
                            <p class="settings-card-subtitle">Manage your subscription</p>
                            
                            <div class="current-plan">
                                <div class="plan-info">
                                    <div class="plan-badge" id="currentPlanBadge">Free Plan</div>
                                </div>
                            </div>

                            <div class="plan-upgrade">
                                <h4>Upgrade to Premium</h4>
                                <div class="upgrade-plans">
                                    <div class="upgrade-plan-card">
                                        <div class="upgrade-plan-header">
                                            <h5>Pro</h5>
                                            <div class="upgrade-plan-price">
                                                <span class="price">$2.99</span>
                                                <span class="period">/month</span>
                                            </div>
                                        </div>
                                        <ul class="upgrade-plan-features">
                                            <li>‚úì Unlimited skills</li>
                                            <li>‚úì Unlimited history</li>
                                            <li>‚úì Achievement Badges</li>
                                        </ul>
                                        <button class="btn btn-primary btn-block">Upgrade to Pro</button>
                                    </div>
                                    
                                    <div class="upgrade-plan-card">
                                        <div class="upgrade-plan-header">
                                            <h5>Lifetime</h5>
                                            <div class="upgrade-plan-price">
                                                <span class="price">$39.99</span>
                                                <span class="period">one-time</span>
                                            </div>
                                        </div>
                                        <ul class="upgrade-plan-features">
                                            <li>‚úì All Pro features</li>
                                            <li>‚úì Priority support</li>
                                            <li>‚úì Early access to new features</li>
                                            <li>‚úì Lifetime updates</li>
                                        </ul>
                                        <button class="btn btn-primary btn-block">Get Lifetime Access</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Change Password -->
                        <div class="settings-card">
                            <h3 class="settings-card-title">Change Password</h3>
                            <p class="settings-card-subtitle">Update your account password</p>
                            
                            <form id="passwordForm" class="settings-form">
                                <div class="form-group">
                                    <label for="currentPassword">Current Password</label>
                                    <input type="password" id="currentPassword" class="form-input" placeholder="Enter current password" required>
                                </div>
                                <div class="form-group">
                                    <label for="newPassword">New Password</label>
                                    <input type="password" id="newPassword" class="form-input" placeholder="Enter new password" required>
                                </div>
                                <div class="form-group">
                                    <label for="confirmPassword">Confirm New Password</label>
                                    <input type="password" id="confirmPassword" class="form-input" placeholder="Confirm new password" required>
                                </div>
                                <button type="submit" class="btn btn-primary">Update Password</button>
                            </form>
                        </div>
                    </div>
                </main>
            </div>
        </div>
    </section>

    <!-- Add/Edit Skill Modal -->
    <div id="skillModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Add New Skill</h3>
                <button class="modal-close" id="closeModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="skillForm">
                    <div class="form-group">
                        <label for="skillName">Skill Name</label>
                        <input type="text" id="skillName" class="form-input" placeholder="e.g., Piano, Spanish, Coding" required>
                    </div>
                    <div class="form-group">
                        <label for="skillCategory">Category</label>
                        <select id="skillCategory" class="form-input">
                            <option value="üé®">üé® Creative</option>
                            <option value="üíª">üíª Technology</option>
                            <option value="üéµ">üéµ Music</option>
                            <option value="üèÉ">üèÉ Sports</option>
                            <option value="üìö">üìö Language</option>
                            <option value="üî¨">üî¨ Science</option>
                            <option value="üéØ">üéØ Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="skillHours">Current Hours</label>
                        <input type="number" id="skillHours" class="form-input" placeholder="0" min="0" max="10000">
                    </div>
                    <div class="form-group">
                        <label for="skillColor">Progress Color</label>
                        <select id="skillColor" class="form-input">
                            <option value="#6366f1">Purple</option>
                            <option value="#ec4899">Pink</option>
                            <option value="#10b981">Green</option>
                            <option value="#f59e0b">Orange</option>
                            <option value="#3b82f6">Blue</option>
                            <option value="#8b5cf6">Violet</option>
                        </select>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn btn-outline" id="cancelBtn">Cancel</button>
                        <button type="submit" class="btn btn-primary" id="saveBtn">Save Skill</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Edit Time Entry Modal -->
    <div id="editTimeModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit Time Entry</h3>
                <button class="modal-close" id="closeEditTimeModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="editTimeForm">
                    <div class="form-group">
                        <label for="editTimeSkill">Skill</label>
                        <input type="text" id="editTimeSkill" class="form-input" disabled>
                    </div>
                    <div class="form-group">
                        <label for="editTimeHours">Hours</label>
                        <input type="number" id="editTimeHours" class="form-input" placeholder="0" min="0" max="24" step="0.1" required>
                    </div>
                    <div class="form-group">
                        <label for="editTimeDate">Date</label>
                        <input type="date" id="editTimeDate" class="form-input" required>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn btn-outline" id="cancelEditTimeBtn">Cancel</button>
                        <button type="submit" class="btn btn-primary" id="saveEditTimeBtn">Save Changes</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="modal">
        <div class="modal-content modal-small">
            <div class="modal-header">
                <h3>Delete Skill</h3>
                <button class="modal-close" id="closeDeleteModal">&times;</button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete <strong id="deleteSkillName"></strong>? This action cannot be undone.</p>
                <div class="modal-actions">
                    <button type="button" class="btn btn-outline" id="cancelDeleteBtn">Cancel</button>
                    <button type="button" class="btn btn-danger" id="confirmDeleteBtn">Delete Skill</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Time Entry Confirmation Modal -->
    <div id="deleteTimeEntryModal" class="modal">
        <div class="modal-content modal-small">
            <div class="modal-header">
                <h3>Delete Time Entry</h3>
                <button class="modal-close" id="closeDeleteTimeEntryModal">&times;</button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete this time entry?</p>
                <div class="delete-time-entry-details" id="deleteTimeEntryDetails"></div>
                <p class="delete-time-entry-warning">This action cannot be undone.</p>
                <div class="modal-actions">
                    <button type="button" class="btn btn-outline" id="cancelDeleteTimeEntryBtn">Cancel</button>
                    <button type="button" class="btn btn-danger" id="confirmDeleteTimeEntryBtn">Delete Entry</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-links">
                    <div class="footer-column">
                        <h4>Product</h4>
                        <a href="index.html#features">Features</a>
                        <a href="index.html#pricing">Pricing</a>
                        <a href="help-center.html">Help Center</a>
                    </div>
                    <div class="footer-column">
                        <h4>Company</h4>
                        <a href="about.html">About</a>
                        <a href="blog.html">Blog</a>
                    </div>
                    <div class="footer-column">
                        <h4>Resources</h4>
                        <a href="help-center.html">Help Center</a>
                        <a href="#">Community</a>
                        <a href="reviews.html">User Reviews</a>
                    </div>
                    <div class="footer-column">
                        <h4>Legal</h4>
                        <a href="privacy.html">Privacy</a>
                        <a href="terms.html">Terms</a>
                        <a href="cookies.html">Cookies</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 10K to Mastery. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="supabase-config.js"></script>
    <script src="auth.js"></script>
    <script src="script.js"></script>
    <script src="demo.js"></script>
    <script src="dashboard-auth.js"></script>
</body>
</html>
